# –í–∞–ª–∏–¥–∞—Ü–∏—è –°–∏–º–≤–æ–ª–æ–≤ –≤ –ì–µ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–º –ê–ª–≥–æ—Ä–∏—Ç–º–µ

## –ü—Ä–æ–±–ª–µ–º–∞

–ì–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –º–æ–≥ "—á–∏—Ç–∏—Ç—å" - –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª—è—Ç—å –¥–æ—Ä–æ–≥–∏–µ —Å–∏–º–≤–æ–ª—ã (7Ô∏è‚É£, ‚≠ê, üíé) —Å –±–∞—Ä–∞–±–∞–Ω–æ–≤, —á—Ç–æ–±—ã –¥–æ—Å—Ç–∏—á—å –Ω—É–∂–Ω–æ–≥–æ RTP –∏ —É–≤–µ–ª–∏—á–∏—Ç—å –ø—Ä–∏–±—ã–ª—å –∫–æ–º–ø–∞–Ω–∏–∏. –≠—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã - **–≤—Å–µ —Å–∏–º–≤–æ–ª—ã –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ö–æ—Ç—è –±—ã —Ä–∞–∑ –Ω–∞ –±–∞—Ä–∞–±–∞–Ω–∞—Ö**.

## –†–µ—à–µ–Ω–∏–µ

### 1. –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:

- `countSymbol(symbol Symbol) int` - –ø–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ —Å–∏–º–≤–æ–ª–∞ –Ω–∞ –±–∞—Ä–∞–±–∞–Ω–µ
- `validateReel(allSymbols []Symbol) bool` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ –≤—Å–µ —Å–∏–º–≤–æ–ª—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ö–æ—Ç—è –±—ã —Ä–∞–∑
- `ensureAllSymbols(allSymbols []Symbol) Reel` - –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –≤—Å–µ—Ö —Å–∏–º–≤–æ–ª–æ–≤

### 2. –ó–∞—â–∏—Ç–∞ –æ—Ç —É–¥–∞–ª–µ–Ω–∏—è –≤ –º—É—Ç–∞—Ü–∏—è—Ö:

```go
case 2: // –£–¥–∞–ª–∏—Ç—å —Å–∏–º–≤–æ–ª
    if len(newReel) > 10 {
        idx := rng.Intn(len(newReel))
        symbolToRemove := newReel[idx]

        // –ö–†–ò–¢–ò–ß–ù–û: –ø—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —ç—Ç–æ –Ω–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–∫–∑–µ–º–ø–ª—è—Ä —Å–∏–º–≤–æ–ª–∞
        if newReel.countSymbol(symbolToRemove) > 1 {
            newReel = append(newReel[:idx], newReel[idx+1:]...)
        }
        // –ï—Å–ª–∏ —ç—Ç–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–∫–∑–µ–º–ø–ª—è—Ä - –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —É–¥–∞–ª–µ–Ω–∏–µ
    }
```

### 3. –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è:

–ü–æ—Å–ª–µ –≤—Å–µ—Ö –º—É—Ç–∞—Ü–∏–π –±–∞—Ä–∞–±–∞–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∏ –¥–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏:

```go
// –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º —á—Ç–æ –≤—Å–µ —Å–∏–º–≤–æ–ª—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç
newReel = newReel.ensureAllSymbols(allSymbols)
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Unit —Ç–µ—Å—Ç—ã (validation_test.go):

```bash
go test -v
```

- `TestMutationPreservesAllSymbols` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç 1000 –æ–±—ã—á–Ω—ã—Ö –∏ —Å–∏–ª—å–Ω—ã—Ö –º—É—Ç–∞—Ü–∏–π
- `TestReelSetMutationPreservesSymbols` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –º—É—Ç–∞—Ü–∏–∏ –Ω–∞–±–æ—Ä–æ–≤ –±–∞—Ä–∞–±–∞–Ω–æ–≤ (–æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∏ —Ä–∞–∑–Ω—ã–µ)
- `TestCountSymbol` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø–æ–¥—Å—á–µ—Ç–∞ —Å–∏–º–≤–æ–ª–æ–≤

### Fuzzing —Ç–µ—Å—Ç (slots_fuzz_test.go):

```bash
go test -fuzz=FuzzSlotSymbolGeneration -fuzztime=30s
```

–í—ã–ø–æ–ª–Ω—è–µ—Ç ~900K+ –∏—Ç–µ—Ä–∞—Ü–∏–π –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏.

## –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –Ω–µ –º–æ–∂–µ—Ç –æ–±–º–∞–Ω—É—Ç—å —Å–∏—Å—Ç–µ–º—É. –í—Å–µ —Å–∏–º–≤–æ–ª—ã –≤—Å–µ–≥–¥–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –Ω–∞ –±–∞—Ä–∞–±–∞–Ω–∞—Ö:

```
üé∞ –ë–ê–†–ê–ë–ê–ù–´:

‚ö†Ô∏è  –í–°–ï 5 –ë–ê–†–ê–ë–ê–ù–û–í –û–î–ò–ù–ê–ö–û–í–´–ï (–¥–ª–∏–Ω–∞: 53):
  üçÄ: 16 (30.2%)
  üîî: 9 (17.0%)
  üçí: 6 (11.3%)
  üçã: 6 (11.3%)
  ‚îÅ: 4 (7.5%)
  üçä: 3 (5.7%)
  üçá: 3 (5.7%)
  ‚≠ê: 3 (5.7%)
  7Ô∏è‚É£: 2 (3.8%)
  üíé: 1 (1.9%)  ‚Üê –î–∞–∂–µ —Å–∞–º—ã–π —Ä–µ–¥–∫–∏–π —Å–∏–º–≤–æ–ª –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç!
```

–ê–ª–≥–æ—Ä–∏—Ç–º —Ç–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å—Ç–æ—Ç—É –ø–æ—è–≤–ª–µ–Ω–∏—è —Å–∏–º–≤–æ–ª–æ–≤ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑:
- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –±–∞—Ä–∞–±–∞–Ω–∞
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è —á–∞—Å—Ç—ã—Ö/—Ä–µ–¥–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤
- –ù–æ –ù–ï –º–æ–∂–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–∏—Ç—å —Å–∏–º–≤–æ–ª
